<html>

<head>
    <meta charset="utf-8">
    <meta name="veiwport" content="width=device-width, initial-scale=1.0">
</head>

<div *ngIf="popUp == true" class="popUp">
    <div>
        <span class="popUpTitle">
            {{popUpTitle}}
        </span> <span [disabled]="confirming == true" (click)="closePopUp()"><i
                class="fas fa-times-circle closePopUpIcon"></i></span>
    </div>
    <div class="popUpText">
        {{popUpText}}
    </div>
    <div class="popUpConfirmButton" (click)="confirmPopUp()">
        <span *ngIf="confirming == false" class="popUpConfirmIcon">
            <i class="fas fa-check-circle"></i>
        </span>
        <span *ngIf="confirming == false" class="popUpConfirmText"> {{'confirm'|translate}} </span>
        <div *ngIf="confirming == true" class="confirmingPopUp">
            <i class="fas fa-spinner"></i>
        </div>
    </div>
</div>

<body [class.disabledDiv]="popUp == true">
    <div *ngIf="notVerified" class="sectionContainer notVerified">
        <i class="fas fa-user-lock"></i>
        <div class="accountNotVerified">
            {{'accountNotVerified'|translate}}
        </div>
        <i class="fas fa-keyboard"></i> {{'enterVerificationCode'|translate}}:
        <div class="inputVerificationCode" [class.invalidVerificationCode]="isVerificationCode==false">
            <input type="text" name="field1Code" [(ngModel)]="field1Code" maxlength="1" class="verficationCodeNumber" #1
                (keyup)="field1Keyup();isVerificationCode=null">
            <input type="text" name="field2Code" [(ngModel)]="field2Code" maxlength="1" class="verficationCodeNumber" #2
                (keyup)="field2Keyup();isVerificationCode=null">
            <input type="text" name="field3Code" [(ngModel)]="field3Code" maxlength="1" class="verficationCodeNumber" #3
                (keyup)="field3Keyup();isVerificationCode=null">
            <input type="text" name="field4Code" [(ngModel)]="field4Code" maxlength="1" class="verficationCodeNumber" #4
                (keyup)="field4Keyup();isVerificationCode=null">
            <input type="text" name="field5Code" [(ngModel)]="field5Code" maxlength="1" class="verficationCodeNumber" #5
                (keyup)="field5Keyup();isVerificationCode=null">
        </div>
        <div *ngIf="isVerificationCode==false" class="invalidText">
            {{'verificationCodeNotValid'|translate}}
        </div>
        <button type="submit" class="fullyBtnSmall" (click)="checkVerificationCode()">{{'verify'|translate}}</button>
    </div>
    <div *ngIf="!notVerified">
        <app-header></app-header>
        <div class="patientContainer">
            <div *ngIf="searchedUsers.length != 0" class="doctorContainer" id="searchedUsersContainer"
                style="padding-top: 25px;">
                <div *ngIf="!selectedUser">
                    <div *ngFor="let user of searchedUsers;let i=index" (click)="showUserFullInfo(i)">
                        <div *ngIf="user.userId != patientGet.userId" class="searchedUser">
                            <div class="searchedUserProfilePic">
                                <img *ngIf="user.userImg" [style.background-image]="'url(' + user.userImg  + ')'"
                                    class="profileImg">
                                <i *ngIf="user.userImg == false" style="font-size: 45px;" class="fas fa-user-tie"></i>
                            </div>
                            <div class="searchedUserInfo">
                                {{user.userFullName}}
                                <div class="searchedUserType">
                                    <span *ngIf="user.userType=='doctor'">
                                        {{'doctor'|translate}}
                                    </span>
                                    <span *ngIf="user.userType=='patient'">
                                        {{'patient'|translate}}
                                    </span>
                                    <span *ngIf="user.userType=='pharmacist'">
                                        {{'pharmacy'|translate}}
                                    </span>
                                </div>
                                <div *ngIf="user.userGender.length != 0" class="searchedUserGender">
                                    <i class="fas fa-venus-mars"></i>
                                    <span *ngIf="user.userGender == 'male'">
                                        {{'male'|translate}}
                                    </span>
                                    <span *ngIf="user.userGender == 'female'">
                                        {{'female'|translate}}
                                    </span>
                                </div>
                                <div *ngIf="user.pharmacyType && user.pharmacyType.length != 0"
                                    class="searchedUserGender">
                                    <i class="fas fa-clock"></i>
                                    <span *ngIf="user.pharmacyType == 'day'">
                                        {{'day'|translate}}
                                    </span>
                                    <span *ngIf="user.pharmacyType == 'night'">
                                        {{'night'|translate}}
                                    </span>
                                </div>
                                <div class="searchedUserExactAddress">
                                    <i class="fas fa-map-marker-alt"></i> {{user.userCity}}
                                    <span *ngIf="user.userExactAddress && user.userExactAddress.length != 0">
                                        - {{user.userExactAddress}}
                                    </span>
                                </div>
                            </div>
                            <div class="searchedUserSendMessage"
                                (click)="startConversation(user.userId,user.userFullName,'',i)">
                                <i class="fas fa-envelope"
                                    [class.loadingMessages]="user.startingConversation==true"></i>
                            </div>
                        </div>
                    </div>
                    <div style="width: fit-content;margin: 10px auto;">
                        <span *ngIf="loadMoreUsers == true" class="searchBtnOptions" (click)="findMoreUser()">
                            {{'findMore'|translate}}
                        </span>
                        <span class="searchBtnOptions" (click)="searchedUsers=[]">
                            {{'closeSearch'|translate}}
                        </span>
                    </div>
                </div>
                <div *ngIf="selectedUser" class="selectedUserContainer">
                    <div class="selectedUserGoBack" (click)="selectedUser=null">
                        <i class="fas fa-arrow-left"></i>
                    </div>
                    <div class="selectedUserFirstHalfInfo">
                        <div class="selectedUserImgprofileContainer">
                            <img *ngIf="selectedUser.userImg"
                                [style.background-image]="'url(' + selectedUser.userImg  + ')'" class="profileImg">
                            <i *ngIf="selectedUser.userImg == false" style="font-size: 90px; bottom: 0px;"
                                class="fas fa-user-tie"></i>
                        </div>
                        <div class="selectedUserInfo">
                            <div class="selectedUserUsername">
                                {{selectedUser.userFullName}}
                            </div>
                            <div style="border-left: 1px solid #308a7b;margin-left:5px;padding-left:10px;">
                                <div *ngIf="selectedUser.pharmacyType && selectedUser.pharmacyType.length != 0">
                                    <i class="fas fa-clock"></i>
                                    <span *ngIf="selectedUser.pharmacyType == 'day'">
                                        {{'day'|translate}}
                                    </span>
                                    <span *ngIf="selectedUser.pharmacyType == 'night'">
                                        {{'night'|translate}}
                                    </span>
                                </div>
                                <div>
                                    <i class="fas fa-map-marker-alt"></i> {{selectedUser.userCity}}
                                    <span
                                        *ngIf="selectedUser.userExactAddress && selectedUser.userExactAddress.length != 0">
                                        - {{selectedUser.userExactAddress}}
                                    </span>
                                </div>
                                <div *ngIf="selectedUser.userGender.length != 0">
                                    <i class="fas fa-venus-mars"></i>
                                    <span *ngIf="selectedUser.userGender == 'male'">
                                        {{'male'|translate}}
                                    </span>
                                    <span *ngIf="selectedUser.userGender == 'female'">
                                        {{'female'|translate}}
                                    </span>
                                </div>
                                <div *ngIf="selectedUser.userBirthDay.length != 0">
                                    <i class="fas fa-birthday-cake"></i>
                                    {{selectedUser.userBirthDay}}
                                </div>
                                <div *ngIf="selectedUser.userType == 'doctor'" class="selectedUserDoctorAppInfo">
                                    <span *ngIf="selectedUser.startTime.length != 0">
                                        <i class="fas fa-business-time"></i>
                                        {{selectedUser.startTime}}
                                    </span>
                                    <span *ngIf="selectedUser.appPrice != 0">
                                        <i class="fas fa-coins"></i>
                                        {{selectedUser.appPrice}} Dt
                                    </span>
                                    <span *ngIf="selectedUser.appApproxDuration!= 0">
                                        <i class="fas fa-hourglass-start"></i>
                                        {{selectedUser.appApproxDuration}} Munite
                                    </span>
                                </div>
                            </div>
                            <button class="fullyBtnSmall"
                                (click)="startConversation(selectedUser.userId,selectedUser.userFullName,'',0)"
                                style="width: fit-content;margin: 10px auto; margin-left: 50%; transform: translateX(-50%);">
                                {{'message'|translate}}
                            </button>
                        </div>
                        <div style="width: fit-content; margin: 5px auto;">
                            <button (click)="addMapRoute()" style="width: fit-content;" class="emptyBtn" *ngIf="(selectedUser.userType == 'doctor' || selectedUser.userType == 'pharmacist')
                         && selectedUser.userLatitude && selectedUser.userLongitude">
                                {{'showRoute'|translate}}
                            </button>
                        </div>
                    </div>
                    <div class="selectedUserSecondHalfInfo">
                        <div *ngIf="selectedUser.userType == 'doctor' || selectedUser.userType == 'pharmacist'">
                            <div id="selectedUserMap">
                                <div *ngIf=" selectedUser.userLatitude && selectedUser.userLatitude.length!=0 && selectedUser.userLongitude.length!=0"
                                    class="userDontSetPos">
                                    {{'loadingMap'|translate}}
                                </div>
                                <div class="userDontSetPos"
                                    *ngIf=" selectedUser.userLatitude && selectedUser.userLatitude.length==0 && selectedUser.userLongitude.length==0">
                                    {{selectedUser.userFullName}} {{'heHasNotSetHerPositionYet'|translate}}
                                </div>
                            </div>
                        </div>
                        <div *ngIf="selectedUser.userType == 'patient' && selectedUser.patientQuestions">
                            <div style="font-weight: 600;margin: 7px auto;text-align: center;">
                                {{'questions'|translate}}
                            </div>
                            <div style="margin: 7px auto;text-align: center;"
                                *ngIf="selectedUser.patientQuestions.length == 0">
                                <span style="text-transform: capitalize;">{{selectedUser.userFullName}}</span>
                                {{'haveNoquestion'|translate}}
                            </div>
                            <div *ngIf="selectedUser.patientQuestions.length != 0">
                                <div *ngFor="let ques of selectedUser.patientQuestions"
                                    class="searchedUserQuestionContainer">
                                    <div class="searchedUserQuestionContainerQuestionPostTime">
                                        <span>
                                            <i class="fas fa-calendar-day"></i> {{ques.questionPostTime | slice:0:10}}
                                        </span>
                                        <span>
                                            <i class="fas fa-clock"></i> {{ques.questionPostTime |
                                            slice:11:(ques.questionPostTime.length-3)}}
                                        </span>
                                    </div>
                                    <div class="searchedUserQuestionContainerQuestion">
                                        <div>
                                            <i class="fas fa-question-circle"></i>
                                        </div>
                                        <div>
                                            {{ques.question}} ?
                                        </div>
                                    </div>
                                </div>
                                <div *ngIf="selectedUser.loadMoreQuestion == true" class="searchedUserLoadMoreQuestions"
                                    (click)="getPatientQuestionsById(selectedUser.userId, selectedUser.patientQuestionsPage)">
                                    <i class="fas fa-sort-down"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="messagesIcon" (click)="openMessages()">
                <i class="fas fa-envelope"></i>
            </div>
            <div *ngIf="newMessage != 0" class="newMessageDot"></div>
            <div class="messagesContainer">
                <div *ngFor="let smallConv of smallConversations; let i=index">
                    <div [class.smallMessagesContainer]="i==0" [class.smallMessagesContainer1]="i==1"
                        [class.smallMessagesContainer2]="i==2" (click)="showFullconv(i)">
                        <div class="smallMessagesContainerImg">
                            <div *ngIf="smallConv.userImg">
                                <img [style.background-image]="'url(' + smallConv.userImg + ')'" class="profileImg">
                            </div>
                            <div *ngIf="smallConv.userImg==false">
                                <i class="fas fa-user-tie" style="font-size: 40px;bottom: 0px;position: absolute;"></i>
                            </div>
                        </div>
                        <div class="smallMessagesContainerUsername">
                            {{smallConv.username}}
                        </div>
                        <div class="smallMessagesContainerClose" (click)="closeSmallConv(i)">
                            <i class="fas fa-times"></i>
                        </div>
                        <div *ngIf="smallConv.isUnread==true && smallConv.lastMessageSenderId != patientGet.userId"
                            class="smallConvNewMessageDot"></div>
                    </div>
                </div>
                <div *ngIf="openConversation" class="messagesConatiner">
                    <div class="messagesContainerHeader">
                        <div class="messageUsername">
                            {{openConversation.username}}
                        </div>
                        <div class="messageCloseIcon" (click)="openConversation=null">
                            <span (click)="restoreConversation()" style="margin-right: 10px;">
                                <i class="fas fa-window-restore"></i>
                            </span>
                            <span>
                                <i class="fas fa-times"></i>
                            </span>
                        </div>
                    </div>
                    <div class="messagesContainerBody" #messagesContainer id="messagesContainer"
                        (scroll)="messagesScroll($event)"
                        (click)="readConversation(openConversation.lastMessageSenderId)"
                        [class.messagesContainerBodyClosed]="openConversation.conversationStatus == 'close'">
                        <div *ngIf="openConversation.loadMoreMessage" class="messageLoading">
                            <div></div>
                            <div></div>
                        </div>
                        <div *ngIf="!openConversation.loadMoreMessage">
                            <div class="messageUsernameImgContainer">
                                <div *ngIf="openConversation.userImg">
                                    <img [style.background-image]="'url(' + openConversation.userImg + ')'"
                                        class="profileImg">
                                </div>
                                <div *ngIf="openConversation.userImg==false">
                                    <i class="fas fa-user-tie"
                                        style="font-size: 60px;bottom: 0px;position: absolute;"></i>
                                </div>
                            </div>
                            <div class="messageUsernameContainer"> {{openConversation.username}} </div>
                        </div>
                        <div *ngFor="let message of openConversation.messages; let i=index" id="message{{i}}">
                            <div *ngIf="message.senderId==patientGet.userId && message.messageContent.length != 0"
                                class="senderMessageContainer">
                                {{message.messageContent}}
                            </div>
                            <div *ngIf="message.senderId!=patientGet.userId && message.messageContent.length != 0"
                                id="{{message.messageDate}}" class="recipientMessageContainer">
                                {{message.messageContent}}
                            </div>
                        </div>
                        <div class="seenMessage"
                            *ngIf="openConversation.isUnread==false && openConversation.lastMessageSenderId == patientGet.userId">
                            {{'seen'|translate}} <i class="fas fa-check"></i>
                        </div>
                        <div *ngIf="openConversation.conversationStatus != 'open'" class="convClosed">
                            <div style="margin: 5px auto;">
                                {{'convClosed'|translate}} <span
                                    *ngIf="openConversation.conversationStatus == 'closeByDefault'">
                                    {{'byDefault'|translate}}</span>, {{'sendRequestTo'|translate}}
                                {{openConversation.username}} {{'toOpenThisConv'|translate}}
                            </div>
                            <button class="fullyBtnSmall sendRequestClosedMessage"
                                (click)="sentOpenConversationRequest(openConversation.userId,openConversation.conversationId)">
                                {{'sendRequest'|translate}}
                            </button>
                            <div class="convClosed">
                                <i class="fas fa-lock" style="margin-left: 5px;"></i>
                            </div>
                        </div>
                    </div>
                    <div *ngIf="openConversation.conversationStatus == 'open'" class="messagesContainerFooter"
                        (click)="readConversation(openConversation.lastMessageSenderId)">
                        <input type="text" autocomplete="off" name="message" [(ngModel)]="message"
                            (keyup.enter)="sendMessage()" placeholder="{{'message...'|translate}}" class="messageInput">
                        <span (click)="sendMessage()">
                            <i class="fas fa-paper-plane sendMessageIcon"></i>
                        </span>
                    </div>
                </div>
            </div>
            <div *ngIf="container=='profile' && patientInfo">
                <section id="generalInfoSection">
                    <div class="sectionTitle">{{'generalInfo'|translate}}</div>
                    <div class="newSectionContainer" *ngIf="generalInfo=='show'">
                        <div class="sectionContainerTopGreen"></div>
                        <div>
                            <div class="imgContainer">
                                <div *ngIf="retrievedImage">
                                    <img [style.background-image]="'url(' + retrievedImage  + ')'" class="profileImg">
                                </div>
                                <div *ngIf="retrievedImage == false"><i class="fas fa-user-tie"></i></div>
                                <div class="editImage">
                                    <div class="centerChangeText">{{'changeImage'|translate}}</div>
                                </div>
                                <div class="strok">
                                    <input type="file" (change)="onFileChanged($event)" class="uploadImgBtn">
                                </div>
                            </div>
                            <div class="doctorGeneralInfo">
                                <div class="doctorName">{{patientGet.patientFirstName}} <span
                                        class="last">{{patientGet.patientLastName}}</span></div>
                                <i class="fas fa-user"></i> {{patientGet.userUsername}}
                            </div>
                        </div>
                        <button class="iconButton" (click)="generalInfo='edit';initializeEditLabel();"><i
                                class="far fa-edit"></i></button>
                        <div class="infoGrid">
                            <div class="infoContainer">
                                <div class="userInfoContainer">
                                    <div class="userInfoContainerTitle">
                                        <div class="userInfoContainerTitleIcon"><i class="fas fa-venus-mars"></i></div>
                                        <div class="userInfoContainerTitleValue">
                                            {{'gender'|translate}}
                                        </div>
                                    </div>
                                    <div class="userInfoContainerValue">
                                        <div *ngIf="patientGet.patientGender=='male'">
                                            {{'male'|translate}}
                                        </div>
                                        <div *ngIf="patientGet.patientGender=='female'">
                                            {{'female'|translate}}
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="infoContainer">
                                <div class="userInfoContainer">
                                    <div class="userInfoContainerTitle">
                                        <div class="userInfoContainerTitleIcon"><i class="fas fa-birthday-cake"></i>
                                        </div>
                                        <div class="userInfoContainerTitleValue">
                                            {{'birthday'|translate}}
                                        </div>
                                    </div>
                                    <div class="userInfoContainerValue">
                                        {{patientGet.patientBirthDay}}
                                    </div>
                                </div>
                            </div>
                            <div class="infoContainer">
                                <div class="userInfoContainer">
                                    <div class="userInfoContainerTitle">
                                        <div class="userInfoContainerTitleIcon"><i class="fas fa-map-marked-alt"></i>
                                        </div>
                                        <div class="userInfoContainerTitleValue">
                                            {{'city'|translate}}
                                        </div>
                                    </div>
                                    <div class="userInfoContainerValue">
                                        {{patientGet.userCity}}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="sectionContainer" *ngIf="generalInfo=='edit'">
                        <div *ngIf="editeSecureInfo; then updateSecureInfo else updateGeneralInfo"></div>
                        <ng-template #updateGeneralInfo>
                            <div class="infoEdit">
                                <div class="formDiv">
                                    <input type="text" [class.labelInvalidInfo]="invalidFirstNameVariable"
                                        name="firstName" [(ngModel)]="firstName"
                                        (keyup)="compareFirstName();firstNameInformation=translate.instant('firstName');invalidFirstNameVariable=false"
                                        class="formInput" placeholder=" ">
                                    <label for="" class="formLabel">
                                        {{firstNameInformation}}
                                    </label>
                                </div>
                                <div class="formDiv">
                                    <input type="text" [class.labelInvalidInfo]="invalidLastNameVariable"
                                        name="lastName" [(ngModel)]="lastName"
                                        (keyup)="compareLastName();lastNameInformation=translate.instant('surname');invalidLastNameVariable=false"
                                        class="formInput" placeholder=" ">
                                    <label for="" class="formLabel">
                                        {{lastNameInformation}}
                                    </label>
                                </div>
                                <div class="formDiv">
                                    <input type="tex" maxlength="2" [class.labelInvalidInfo]="invalidDayVariable"
                                        name="day" [(ngModel)]="day"
                                        (keyup)="compareDay();dayInformation=translate.instant('day');invalidDayVariable=false"
                                        class="formInput" list="daylistOptions" placeholder=" ">
                                    <label for="" class="formLabel">
                                        {{dayInformation}}
                                    </label>
                                    <datalist id="daylistOptions">
                                        <option value="01">
                                        <option value="02">
                                        <option value="03">
                                        <option value="04">
                                        <option value="05">
                                        <option value="06">
                                        <option value="07">
                                        <option value="08">
                                        <option value="09">
                                        <option value="10">
                                        <option value="11">
                                        <option value="12">
                                        <option value="13">
                                        <option value="14">
                                        <option value="15">
                                        <option value="16">
                                        <option value="17">
                                        <option value="18">
                                        <option value="19">
                                        <option value="20">
                                        <option value="21">
                                        <option value="22">
                                        <option value="23">
                                        <option value="24">
                                        <option value="25">
                                        <option value="26">
                                        <option value="27">
                                        <option value="28">
                                        <option value="29">
                                        <option value="30">
                                        <option value="31">
                                    </datalist>
                                </div>
                                <div class="formDiv">
                                    <input type="text" [class.labelInvalidInfo]="invalidMonthVariable" name="month"
                                        [(ngModel)]="month"
                                        (keyup)="compareMonth();monthInformation=translate.instant('month');invalidMonthVariable=false"
                                        maxlength="2" list="monthlistOptions" class="formInput" placeholder=" ">
                                    <label for="" class="formLabel">
                                        {{monthInformation}}
                                    </label>
                                    <datalist id="monthlistOptions">
                                        <option value="01">
                                        <option value="02">
                                        <option value="03">
                                        <option value="04">
                                        <option value="05">
                                        <option value="06">
                                        <option value="07">
                                        <option value="08">
                                        <option value="09">
                                        <option value="10">
                                        <option value="11">
                                        <option value="12">
                                    </datalist>
                                </div>
                                <div class="formDiv">
                                    <input type="text" [class.labelInvalidInfo]="invalidYearVariable" name="year"
                                        [(ngModel)]="year"
                                        (keyup)="compareYear();yearInformation=translate.instant('year');invalidYearVariable=false"
                                        maxlength="4" list="yearlistOptions" class="formInput" placeholder=" ">
                                    <label for="" class="formLabel">
                                        {{yearInformation}}
                                    </label>
                                    <datalist id="yearlistOptions">
                                        <option *ngFor="let year of birthYears" value="{{year}}">
                                    </datalist>
                                </div>
                                <div class="formDiv">
                                    <input type="text" list="governoratelistOptions"
                                        [class.labelInvalidInfo]="invalidAdressVariable" name="adress"
                                        [(ngModel)]="adress"
                                        (keyup)="compareCity();adressInformation=translate.instant('city');invalidAdressVariable=false"
                                        class="formInput" placeholder=" ">
                                    <label for="" class="formLabel">
                                        {{adressInformation}}
                                        <datalist id="governoratelistOptions">
                                            <option *ngFor="let city of cities" value="{{city}}">
                                        </datalist>
                                    </label>
                                </div>
                                <div class="btn-group" role="group" aria-label="Basic radio toggle button group">
                                    <input type="radio" class="maleRadio"
                                        (change)="checkBoxInvaledInfoVriable=false;maleCheckBox=true;femaleCheckBox=fals"
                                        [checked]="maleCheckBox" name="btnradio" id="male">
                                    <label class="btn btn-outline-primary" id="maleLabel" for="male"
                                        (click)="checkDisabledBtnFromMale()">{{'male'|translate}}</label>
                                    <input type="radio" class="femaleRadio"
                                        (change)="checkBoxInvaledInfoVriable=false;femaleCheckBox=true;maleCheckBox=false"
                                        [checked]="femaleCheckBox" name="btnradio" id="female">
                                    <label class="btn btn-outline-primary" id="femaleLabel" for="female"
                                        (click)="checkDisabledBtnFromFemale()">{{'female'|translate}}</label>
                                </div>
                            </div>
                            <div class="textLien" style="padding-left: 50px;" (click)="changePasswordClick()">
                                {{'changePassword'|translate}} ?</div>
                            <div class="buttons">
                                <button class="fullyBtn" (click)="generalInfo='show';">{{'goBack'|translate}}</button>
                                <button class="fullyBtn" (click)="checkForm()"
                                    [disabled]="disableSaveBtn">{{'update'|translate}}</button>
                            </div>
                        </ng-template>
                        <ng-template #updateSecureInfo>
                            <span class="changeNote">{{'noteChangerPassOrUsername'|translate}}</span>
                            <div *ngIf="editPassword; then showEditPassword else showEditUsername"></div>
                            <ng-template #showEditPassword>
                                <div class="infoEdit">
                                    <div class="formDiv">
                                        <input type="password" [class.labelInvalidInfo]="invalidPasswordVariable"
                                            name="password" [(ngModel)]="password"
                                            (keyup)="invalidPasswordVariable=false; passwordInfromation=translate.instant('password')"
                                            class="formInput" placeholder=" ">
                                        <label for="" class="formLabel">
                                            {{passwordInfromation}}
                                        </label>
                                    </div>
                                    <div class="formDiv">
                                        <input type="password" [class.labelInvalidInfo]="invalidPasswordRepeatVariable"
                                            name="passwordRepeat" [(ngModel)]="passwordRepeat"
                                            (keyup)="passwordRepeatInfromation=translate.instant('repeatPassword'); invalidPasswordRepeatVariable=false"
                                            class="formInput" placeholder=" ">
                                        <label for="" class="formLabel">
                                            {{passwordRepeatInfromation}}
                                        </label>
                                    </div>
                                </div>
                                <div class="buttons">
                                    <button class="fullyBtn"
                                        (click)="editeSecureInfo=false;">{{'goBack'|translate}}</button>
                                    <button class="fullyBtn" (click)="updatePassword()">{{'update'|translate}}</button>
                                </div>
                            </ng-template>
                            <ng-template #showEditUsername>
                                <div class="formDiv editUserName">
                                    <input type="text" [class.labelInvalidInfo]="invalidMailVariable" name="mail"
                                        [(ngModel)]="mail"
                                        (keyup)="compareUserName();mailInformation=translate.instant('mail');invalidMailVariable=false"
                                        class="formInput" placeholder=" ">
                                    <label for="" class="formLabel">
                                        {{mailInformation}}
                                    </label>
                                </div>
                                <div class="buttons">
                                    <button class="fullyBtn"
                                        (click)="editeSecureInfo=false;">{{'goBack'|translate}}</button>
                                    <button class="fullyBtn" (click)="updateUsername()"
                                        [disabled]="disableChnageUsernameBtn">{{'update'|translate}}</button>
                                </div>
                            </ng-template>
                        </ng-template>
                    </div>
                </section>
                <section id="medicalProfileSection">
                    <div class="sectionTitle">{{'medicalProfile'|translate}}</div>
                    <div *ngIf="patientMedicalProfile">
                        <div
                            *ngIf="patientMedicalProfile.weight == 0 &&  patientMedicalProfile.height == 0 ; then nullTemplate else showTemplate">
                        </div>
                        <ng-template #nullTemplate>
                            <div *ngIf="medicalProfileInfo=='noData'" class="sectionContainer">
                                <div class="noData">
                                    {{'editMedicalProfileInfoToShow'|translate}}, <span class="setInfo"
                                        (click)="initializeMedicalProfileLabel();medicalProfileInfo='setMedicalProfileInfo'">{{'setInfo'|translate}}</span>
                                </div>
                            </div>
                            <div *ngIf="medicalProfileInfo=='setMedicalProfileInfo'" class="sectionContainer">
                                <div class="infoEdit">
                                    <div class="formDiv">
                                        <span class="mesure">{{'metre'|translate}}</span>
                                        <input type="text" [class.labelInvalidInfo]="invalidHeightVariable"
                                            name="height" [(ngModel)]="height"
                                            (keyup)="compareHeight();heightInformation=translate.instant('height');invalidHeightVariable=false"
                                            class="formInput textLeft" placeholder=" ">
                                        <label for="" class="formLabel">
                                            {{heightInformation}}
                                        </label>
                                    </div>
                                    <div class="formDiv">
                                        <span class="mesure">{{'kilogram'|translate}}</span>
                                        <input type="text" [class.labelInvalidInfo]="invalidWeightVariable"
                                            name="weight" [(ngModel)]="weight"
                                            (keyup)="compareWeight();weightInformation=translate.instant('weight');invalidWeightVariable=false"
                                            class="formInput textLeft" placeholder=" ">
                                        <label for="" class="formLabel">
                                            {{weightInformation}}
                                        </label>
                                    </div>
                                </div>
                                <div class="buttons">
                                    <button class="fullyBtn"
                                        (click)="medicalProfileInfo='noData';">{{'goBack'|translate}}</button>
                                    <button class="fullyBtn" [disabled]="disableSaveMedicalProfileBtn"
                                        (click)="checkMedicalProfileForm();">{{'update'|translate}}</button>
                                </div>
                            </div>
                        </ng-template>
                        <ng-template #showTemplate>
                            <div *ngIf="medicalProfile=='showData'">
                                    <div class="medicalProfileInfoConatiner" id="heightSection">
                                        <div class="userInfoContainer" [class.hoverEffect]="heightValues == false" (click)="getHeightValues()"
                                         [class.bigUserInfo]="heightValues == true">
                                            <div class="userInfoContainerTitle">
                                                <div class="userInfoContainerTitleIcon"><i
                                                        class="fas fa-arrows-alt-v"></i>
                                                </div>
                                                <div class="userInfoContainerTitleValue">
                                                    {{'height'|translate}}
                                                </div>
                                            </div>
                                            <div class="userInfoContainerValue">
                                                {{patientMedicalProfile.height}} {{'metre'|translate}}
                                            </div>
                                        </div>
                                        <div [class.userInfoContainer]="heightValues == true" 
                                        [class.bigUserInfo]="heightValues == true"
                                        [class.medicalProfileChart]="heightValues == true">
                                            <div [class.hideChart]="heightValues == false" [class.heightChart]="heightValues == true"
                                            [style.width.px]="heightChartWidth">
                                               <canvas id="heightChart"></canvas>
                                           </div>
                                        </div>
                                    </div>
                                    <div class="medicalProfileInfoConatiner" id="weightSection">
                                        <div class="userInfoContainer" [class.hoverEffect]="weightValues == false" (click)="getWeightValues()"
                                        [class.bigUserInfo]="weightValues == true">
                                            <div class="userInfoContainerTitle">
                                                <div class="userInfoContainerTitleIcon"><i class="fas fa-weight"></i>
                                                </div>
                                                <div class="userInfoContainerTitleValue">
                                                    {{'weight'|translate}}
                                                </div>
                                            </div>
                                            <div class="userInfoContainerValue">
                                                {{patientMedicalProfile.weight}} {{'kilogram'|translate}}
                                            </div>
                                        </div>
                                        <div [class.userInfoContainer]="weightValues == true" 
                                        [class.bigUserInfo]="weightValues == true"
                                        [class.medicalProfileChart]="weightValues == true">
                                            <div [class.hideChart]="weightValues == false" [class.heightChart]="weightValues == true"
                                            [style.width.px]="weightChartWidth">
                                               <canvas id="weightChart"></canvas>
                                           </div>
                                        </div>
                                    </div>
                                <button class="iconButton"
                                    (click)="medicalProfile='editData';initilizeMedicalProfile();"><i
                                        class="far fa-edit"></i></button>
                                <div *ngIf="this.patientMedicalProfile.medicalProfileDisease" style="margin-top: 20px;">
                                    <div *ngIf="this.patientMedicalProfile.medicalProfileDisease.length == 0"
                                        class="sectionContainer">
                                        <div *ngIf="medicalProfileDiseaseInfo=='info'; then showInfo else showWhy">
                                        </div>
                                        <ng-template #showInfo>
                                            <div class="noData">
                                                {{'noDiseaseYet'|translate}}, <span class="textLien"
                                                    (click)="medicalProfileDiseaseInfo='why'">{{'why'|translate}}</span>
                                            </div>
                                        </ng-template>
                                        <ng-template #showWhy>
                                            <div class="noData">{{'whyNoDiseaseYet'|translate}}, <span class="textLien"
                                                    (click)="medicalProfileDiseaseInfo='info'">{{'okay'|translate}}</span>
                                            </div>
                                        </ng-template>
                                    </div>
                                    <div *ngIf=" this.patientMedicalProfile.medicalProfileDisease.length != 0">
                                        <div *ngIf="!showAllDisease">
                                            <div *ngFor=" let dis of this.patientMedicalProfile.medicalProfileDisease | keyvalue"
                                                class="userInfoContainers">
                                                <div
                                                    *ngIf="dis.value.showFullInfo==false && !loadDoctorInfoForMedicalProfileDis[dis.key]">
                                                </div>
                                                <div *ngIf="loadDoctorInfoForMedicalProfileDis[dis.key]"
                                                    class="loadingCuurentPatientInfo newloadingCuurentPatientInfoRaduis">
                                                    <div class="loading">
                                                        <span></span>
                                                        <span></span>
                                                        <span></span>
                                                    </div>
                                                </div>
                                                <div class="userInfoContainer userInfoContainerHover"
                                                    (click)="getPrescriptionByDocIdPatientIdAndDate(dis.value.doctorId,dis.value.medicalProfileDiseaseDiagnoseDay,dis.key,'disease')">
                                                    <div class="userInfoContainerTitle">
                                                        <div class="userInfoContainerTitleIcon"><i
                                                                class="fas fa-bacterium"></i>
                                                        </div>
                                                        <div class="userInfoContainerTitleValue">
                                                            {{'disease'|translate}}
                                                        </div>
                                                    </div>
                                                    <div class="userInfoContainerValue">
                                                        {{dis.value.medicalProfileDiseaseName}}
                                                    </div>
                                                    <div class="userInfoContainerSecondValue">
                                                        <div class="userInfoContainerSecondValuePoint"></div>
                                                        <div class="userInfoContainerSecondValueText">
                                                            {{dis.value.medicalProfileDiseaseDiagnoseDay}}</div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="userInfoContainers">
                                                <div class="userInfoContainer"
                                                    [class.userInfoContainerHover]="loadMoreDis"
                                                    (click)="getPatientMedicalProfielDiseases(patientGet.medicalProfileId)">
                                                    <div class="userInfoContainerTitle">
                                                        <div class="userInfoContainerTitleIcon"><i
                                                                class="fas fa-search"></i>
                                                        </div>
                                                        <div class="userInfoContainerTitleValue">
                                                            {{'search'|translate}}
                                                        </div>
                                                    </div>
                                                    <div class="userInfoContainerValue" style="padding: 10px 0px;">
                                                        <span *ngIf="!loadMoreDis">
                                                            <i class="fas fa-times"></i>
                                                        </span>
                                                        <span *ngIf="loadMoreDis">
                                                            <i class="fas fa-plus"></i>
                                                        </span>
                                                    </div>
                                                    <div class="userInfoContainerSecondValue">
                                                        <div class="userInfoContainerSecondValuePoint"></div>
                                                        <div class="userInfoContainerSecondValueText">
                                                            <span *ngIf="!loadMoreDis">
                                                                {{'allDiseasesLoaded'|translate}}
                                                            </span>
                                                            <span *ngIf="loadMoreDis">
                                                                {{'loadMoreDiagnose'|translate}}
                                                            </span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div *ngIf="showAllDisease" class="sectionContainer">
                                            <div class="returnToAllDisease" (click)="showAllDisease=false">
                                                <i class="fas fa-arrow-left"></i>
                                            </div>
                                            <div class="diseaseDocInfo">
                                                <div class="docProfileImgForMedicalProfileDis">
                                                    <img *ngIf="disPrescriptions[presKey].prescriptiondoctor.profileImg"
                                                        [style.background-image]="'url(' + disPrescriptions[presKey].prescriptiondoctor.profileImg + ')'"
                                                        class="profileImg">
                                                    <i *ngIf="disPrescriptions[presKey].prescriptiondoctor.profileImg == false"
                                                        class="fas fa-user-tie userTie75"></i>
                                                </div>
                                                <div class="diseaseDocName">
                                                    Dr.<span style="text-transform: capitalize;">
                                                        {{disPrescriptions[presKey].prescriptiondoctor.doctorFirstName}}</span>
                                                    <span style="text-transform: uppercase;">
                                                        {{disPrescriptions[presKey].prescriptiondoctor.doctorLastName}}</span><br>
                                                    <div
                                                        *ngIf="disPrescriptions[presKey].prescriptiondoctor.doctorRate !=0">
                                                        <div
                                                            *ngIf="disPrescriptions[presKey].prescriptiondoctor.doctorRate == 0.5">
                                                            <i class="fas fa-star-half-alt"></i>
                                                            <i class="far fa-star"></i>
                                                            <i class="far fa-star"></i>
                                                            <i class="far fa-star"></i>
                                                            <i class="far fa-star"></i>
                                                        </div>
                                                        <div
                                                            *ngIf="disPrescriptions[presKey].prescriptiondoctor.doctorRate == 1">
                                                            <i class="fas fa-star"></i>
                                                            <i class="far fa-star"></i>
                                                            <i class="far fa-star"></i>
                                                            <i class="far fa-star"></i>
                                                            <i class="far fa-star"></i>
                                                        </div>
                                                        <div
                                                            *ngIf="disPrescriptions[presKey].prescriptiondoctor.doctorRate == 1.5">
                                                            <i class="fas fa-star"></i>
                                                            <i class="fas fa-star-half-alt"></i>
                                                            <i class="far fa-star"></i>
                                                            <i class="far fa-star"></i>
                                                            <i class="far fa-star"></i>
                                                        </div>
                                                        <div
                                                            *ngIf="disPrescriptions[presKey].prescriptiondoctor.doctorRate == 2">
                                                            <i class="fas fa-star"></i>
                                                            <i class="fas fa-star"></i>
                                                            <i class="far fa-star"></i>
                                                            <i class="far fa-star"></i>
                                                            <i class="far fa-star"></i>
                                                        </div>
                                                        <div
                                                            *ngIf="disPrescriptions[presKey].prescriptiondoctor.doctorRate == 2.5">
                                                            <i class="fas fa-star"></i>
                                                            <i class="fas fa-star"></i>
                                                            <i class="fas fa-star-half-alt"></i>
                                                            <i class="far fa-star"></i>
                                                            <i class="far fa-star"></i>
                                                        </div>
                                                        <div
                                                            *ngIf="disPrescriptions[presKey].prescriptiondoctor.doctorRate == 3">
                                                            <i class="fas fa-star"></i>
                                                            <i class="fas fa-star"></i>
                                                            <i class="fas fa-star"></i>
                                                            <i class="far fa-star"></i>
                                                            <i class="far fa-star"></i>
                                                        </div>
                                                        <div
                                                            *ngIf="disPrescriptions[presKey].prescriptiondoctor.doctorRate == 3.5">
                                                            <i class="fas fa-star"></i>
                                                            <i class="fas fa-star"></i>
                                                            <i class="fas fa-star"></i>
                                                            <i class="fas fa-star-half-alt"></i>
                                                            <i class="far fa-star"></i>
                                                        </div>
                                                        <div
                                                            *ngIf="disPrescriptions[presKey].prescriptiondoctor.doctorRate == 4">
                                                            <i class="fas fa-star"></i>
                                                            <i class="fas fa-star"></i>
                                                            <i class="fas fa-star"></i>
                                                            <i class="fas fa-star"></i>
                                                            <i class="far fa-star"></i>
                                                        </div>
                                                        <div
                                                            *ngIf="disPrescriptions[presKey].prescriptiondoctor.doctorRate == 4.5">
                                                            <i class="fas fa-star"></i>
                                                            <i class="fas fa-star"></i>
                                                            <i class="fas fa-star"></i>
                                                            <i class="fas fa-star"></i>
                                                            <i class="fas fa-star-half-alt"></i>
                                                        </div>
                                                        <div
                                                            *ngIf="disPrescriptions[presKey].prescriptiondoctor.doctorRate == 5">
                                                            <i class="fas fa-star"></i>
                                                            <i class="fas fa-star"></i>
                                                            <i class="fas fa-star"></i>
                                                            <i class="fas fa-star"></i>
                                                            <i class="fas fa-star"></i>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="docDiseaseGeneralInfo">
                                                    <div class="diseaseName newDiseaseNameMargin">
                                                        <i class="fas fa-venus-mars"></i>
                                                        <span class="disease">
                                                            {{disPrescriptions[presKey].prescriptiondoctor.doctorGender}}
                                                        </span>
                                                    </div><br>
                                                    <div class="diseaseName newDiseaseNameMargin">
                                                        <i class="fas fa-map-marked-alt"></i>
                                                        <span class="disease">
                                                            {{disPrescriptions[presKey].prescriptiondoctor.userCity}}
                                                        </span>
                                                    </div>
                                                </div><br>
                                            </div>
                                            <div class="medicalProfileDiseasePrescription"
                                                *ngIf="disPrescriptions[presKey].medicament">
                                                <div class="prescriptionText">
                                                    {{'prescription'|translate}}
                                                </div>
                                                <hr class="greenLine">
                                                <div class="presMedicaments">
                                                    <div *ngFor="let med of disPrescriptions[presKey].medicament"
                                                        class="greenContainer">
                                                        {{med.medicamentName}} | {{med.treatmentPeriode}}
                                                    </div>
                                                </div>
                                            </div>
                                            <div *ngIf="patientMedicalProfile.medicalProfileDisease[presKey].medicalProfileDiseaseDiagnose"
                                                class="diseaseDiagnose">
                                                <hr>
                                                <div style="width: fit-content;margin: 0px auto;">
                                                    {{patientMedicalProfile.medicalProfileDisease[presKey].medicalProfileDiseaseDiagnose}}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div *ngIf="medicalProfile=='editData'" class="sectionContainer"
                            style="padding-top: 5%;">
                                <div *ngIf="wait7Days == true" class="errInfo">
                                    {{'youNeedToWait7Days'|translate}}
                                </div>
                                <div class="infoEdit">
                                    <div class="formDiv">
                                        <span class="mesure">{{'metre'|translate}}</span>
                                        <input type="text" [class.labelInvalidInfo]="invalidHeightVariable"
                                            name="height" [(ngModel)]="height"
                                            (keyup)="compareHeight();heightInformation=translate.instant('height');invalidHeightVariable=false"
                                            class="formInput textLeft" placeholder=" ">
                                        <label for="" class="formLabel">
                                            {{heightInformation}}
                                        </label>
                                    </div>
                                    <div class="formDiv">
                                        <span class="mesure">{{'kilogram'|translate}}</span>
                                        <input type="text" [class.labelInvalidInfo]="invalidWeightVariable"
                                            name="weight" [(ngModel)]="weight"
                                            (keyup)="compareWeight();weightInformation=translate.instant('weight');invalidWeightVariable=false"
                                            class="formInput textLeft" placeholder=" ">
                                        <label for="" class="formLabel">
                                            {{weightInformation}}
                                        </label>
                                    </div>
                                </div>
                                <div class="buttons">
                                    <button class="fullyBtn"
                                        (click)="medicalProfile='showData'">{{'goBack'|translate}}</button>
                                    <button class="fullyBtn"
                                        (click)="checkMedicalProfileForm();">{{'update'|translate}}</button>
                                </div>
                            </div>
                        </ng-template>
                    </div>
                </section>
                <section id="myAppointmentsSection">
                    <div class="sectionTitle">{{'myAppointments'|translate}}</div>
                    <div class="sectionContainer">
                        <div *ngIf="myAppointment.length == 0;">
                            <div class="noData">
                                {{'noAppointments'|translate}}
                            </div>
                        </div>
                        <div *ngIf="myAppointment.length != 0;">
                            <div class="appointmentsGrid">
                                <div class="div rightBorder" style="text-transform: capitalize;"> {{'doctor'|translate}}
                                </div>
                                <div class="div rightBorder" style="text-transform: capitalize;">
                                    {{'appInfo'|translate}}
                                </div>
                                <div class="div" style="text-transform: capitalize;"> {{'modify'|translate}} </div>
                            </div>
                            <div *ngFor="let app of myAppointment | keyvalue" class="appOfAppointment">
                                <section id="{{app.key}}">
                                    <div *ngIf="deletedApp[app.key]">
                                        <div class="deletedAppointment">
                                            <div class="deletedAppText">
                                                {{'appDeleted'|translate}}
                                            </div>
                                        </div>
                                    </div>
                                    <div *ngIf="docInfoForPatient[app.key]">
                                        <div class="appointmentsGrid"
                                            [class.appIsToday]="(isDatePassed(app.value.appointmentDate) == null && app.value.appointmentStatus != 'completed' && app.value.appointmentStatus != 'missed')
                                             || app.value.appointmentStatus == 'unconfirmed' || app.value.appointmentStatus == 'changeDateRequest'"
                                            [class.completedApp]="app.value.appointmentStatus=='completed'"
                                            [class.missedApp]="((app.value.appointmentStatus=='missed' || isDatePassed(app.value.appointmentDate) == true) && app.value.appointmentStatus!='completed')
                                             || app.value.appointmentStatus == 'refused'">
                                            <div class="div">
                                                <div class="centerInDivGrid">
                                                    <div class="profileImgCon">
                                                        <img *ngIf="doctorProfileImg[app.key]"
                                                            [style.background-image]="'url(' + doctorProfileImg[app.key] + ')'"
                                                            class="profileImg" style="left: -2%;">
                                                        <i *ngIf="doctorProfileImg[app.key]==false"
                                                            class="fas fa-user-tie userTie50"></i>
                                                    </div>
                                                    <div class="appDocName">
                                                        Dr. <span
                                                            style="text-transform: capitalize;">{{docInfoForPatient[app.key].doctorFirstName}}</span>
                                                        <span style="text-transform: uppercase;">
                                                            {{docInfoForPatient[app.key].doctorLastName}}</span>
                                                    </div>
                                                    <div *ngIf="docInfoForPatient[app.key].doctorRate != 0"
                                                        class="centerRate">
                                                        <div *ngIf="docInfoForPatient[app.key].doctorRate == 0.5">
                                                            <i class="fas fa-star-half-alt"></i>
                                                            <i class="far fa-star"></i>
                                                            <i class="far fa-star"></i>
                                                            <i class="far fa-star"></i>
                                                            <i class="far fa-star"></i>
                                                        </div>
                                                        <div *ngIf="docInfoForPatient[app.key].doctorRate == 1">
                                                            <i class="fas fa-star"></i>
                                                            <i class="far fa-star"></i>
                                                            <i class="far fa-star"></i>
                                                            <i class="far fa-star"></i>
                                                            <i class="far fa-star"></i>
                                                        </div>
                                                        <div *ngIf="docInfoForPatient[app.key].doctorRate == 1.5">
                                                            <i class="fas fa-star"></i>
                                                            <i class="fas fa-star-half-alt"></i>
                                                            <i class="far fa-star"></i>
                                                            <i class="far fa-star"></i>
                                                            <i class="far fa-star"></i>
                                                        </div>
                                                        <div *ngIf="docInfoForPatient[app.key].doctorRate == 2">
                                                            <i class="fas fa-star"></i>
                                                            <i class="fas fa-star"></i>
                                                            <i class="far fa-star"></i>
                                                            <i class="far fa-star"></i>
                                                            <i class="far fa-star"></i>
                                                        </div>
                                                        <div *ngIf="docInfoForPatient[app.key].doctorRate == 2.5">
                                                            <i class="fas fa-star"></i>
                                                            <i class="fas fa-star"></i>
                                                            <i class="fas fa-star-half-alt"></i>
                                                            <i class="far fa-star"></i>
                                                            <i class="far fa-star"></i>
                                                        </div>
                                                        <div *ngIf="docInfoForPatient[app.key].doctorRate == 3">
                                                            <i class="fas fa-star"></i>
                                                            <i class="fas fa-star"></i>
                                                            <i class="fas fa-star"></i>
                                                            <i class="far fa-star"></i>
                                                            <i class="far fa-star"></i>
                                                        </div>
                                                        <div *ngIf="docInfoForPatient[app.key].doctorRate == 3.5">
                                                            <i class="fas fa-star"></i>
                                                            <i class="fas fa-star"></i>
                                                            <i class="fas fa-star"></i>
                                                            <i class="fas fa-star-half-alt"></i>
                                                            <i class="far fa-star"></i>
                                                        </div>
                                                        <div *ngIf="docInfoForPatient[app.key].doctorRate == 4">
                                                            <i class="fas fa-star"></i>
                                                            <i class="fas fa-star"></i>
                                                            <i class="fas fa-star"></i>
                                                            <i class="fas fa-star"></i>
                                                            <i class="far fa-star"></i>
                                                        </div>
                                                        <div *ngIf="docInfoForPatient[app.key].doctorRate == 4.5">
                                                            <i class="fas fa-star"></i>
                                                            <i class="fas fa-star"></i>
                                                            <i class="fas fa-star"></i>
                                                            <i class="fas fa-star"></i>
                                                            <i class="fas fa-star-half-alt"></i>
                                                        </div>
                                                        <div *ngIf="docInfoForPatient[app.key].doctorRate == 5">
                                                            <i class="fas fa-star"></i>
                                                            <i class="fas fa-star"></i>
                                                            <i class="fas fa-star"></i>
                                                            <i class="fas fa-star"></i>
                                                            <i class="fas fa-star"></i>
                                                        </div>
                                                    </div>
                                                    <div class="appInfoTitleCon"> <i class="fas fa-map-marked-alt"></i>
                                                        <span
                                                            class="appInfo">{{docInfoForPatient[app.key].userCity}}</span>
                                                    </div>
                                                    <div class="appInfoTitleCon"> <i class="fas fa-venus-mars"></i>
                                                        <span
                                                            class="appInfo">{{docInfoForPatient[app.key].doctorGender}}</span>
                                                    </div>
                                                    <div class="appInfoTitleCon noWhite" style="padding-left: 0px;">
                                                        <span class="appInfo">
                                                            {{docInfoForPatient[app.key].exactAddress}}
                                                        </span>
                                                    </div>
                                                    <!--<span
                                                        class="appInfoTitleCon paddingRight">{{docInfoForPatient[app.key].specialityCode.toString()|translate}}</span>-->
                                                </div>
                                            </div>
                                            <div class="div">
                                                <div class="centerInDivGrid">
                                                    <div class="appInfoTitleCon"> <i class="fas fa-calendar-day"></i>
                                                        <span class="appInfo">{{app.value.appointmentDate}}</span>
                                                    </div>
                                                    <div class="appInfoTitleCon"> {{'turn'|translate}} <span
                                                            class="appInfo">{{app.value.patientTurn}}</span>
                                                    </div>
                                                    <div class="appInfoTitleCon"> <i class="fas fa-clock"></i> <span
                                                            class="appInfo">{{getApproximationTime(docInfoForPatient[app.key].startTime,
                                                            docInfoForPatient[app.key].appointmentApproximateDuration,
                                                            app.value.patientTurn)}}</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="div">
                                                <div class="centerInDivGrid">
                                                    <button
                                                        *ngIf="app.value.appointmentStatus=='pending' && isDatePassed(app.value.appointmentDate) == false"
                                                        class="fullyBtn fullyBtnRed"
                                                        (click)="openPopUp('deleteAppoitment',app.value.appointmentId,app.key)">
                                                        {{'delete'|translate}} <i class="fas fa-trash-alt"></i>
                                                    </button>
                                                    <button
                                                        *ngIf="app.value.appointmentStatus=='pending' && isDatePassed(app.value.appointmentDate) == false"
                                                        class="fullyBtn fullyBtnGreen"
                                                        (click)="changeAppDate(app.value.doctorId,app.value.appointmentDate,app.key)">
                                                        {{'changeDate'|translate}} <i class="fas fa-edit"></i>
                                                    </button>
                                                    <div *ngIf="app.value.appointmentStatus=='completed'"
                                                        style="font-weight: 600;color: #51A351;">
                                                        {{'appPassed'|translate}}
                                                    </div>
                                                    <div *ngIf="(app.value.appointmentStatus=='missed' || isDatePassed(app.value.appointmentDate) == true) && app.value.appointmentStatus!='completed'"
                                                        style="font-weight: 600;color: #BD362F;">
                                                        {{'appMissed'|translate}}
                                                    </div>
                                                    <div *ngIf="isDatePassed(app.value.appointmentDate) == null && app.value.appointmentStatus != 'completed' && app.value.appointmentStatus != 'missed'"
                                                        style="font-weight: 600; color: #F89406;">
                                                        {{'yourAppIsToday'|translate}}
                                                    </div>
                                                    <div *ngIf="app.value.appointmentStatus == 'refused'"
                                                        style="font-weight: 600;color: #BD362F;">
                                                        {{'appRefused'|translate}}
                                                    </div>
                                                    <div *ngIf="app.value.appointmentStatus == 'unconfirmed'"
                                                        style="font-weight: 600;color: #F89406;">
                                                        {{'appWaitingForConf'|translate}}
                                                    </div>
                                                    <div *ngIf="app.value.appointmentStatus == 'changeDateRequest'"
                                                        style="font-weight: 600;color: #F89406;">
                                                        {{'changeAppDateRequest'|translate}}
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </section>
                                <section id="calendarGridSection">
                                    <div *ngIf="showUpdateCalendar[app.key]">
                                        <div style="margin-left: 4%; padding-top: 4%;">
                                            {{'selectAppointmentDay'|translate}}
                                        </div>
                                        <div class="calendarGrid">
                                            <div class="day dayNumber" *ngFor="let day of monthDays">
                                                <input type="radio" id="day{{day}}" name="dayName"
                                                    (click)="daySelected(day)" [disabled]="monthDaysDis[day]">
                                                <label for="day{{day}}" id="day{{day}}Lab" class="fillAllDay"
                                                    [disabled]="monthDaysDis[day]">{{day}}</label>
                                            </div>
                                        </div>
                                        <button class="emptyBtn white"
                                            (click)="updateAppById(app.value.appointmentId,app.key)">
                                            {{'update'|translate}} </button>
                                    </div>
                                </section>
                            </div>
                            <div *ngIf="showLoadMoreApp" class="showMoreApp">
                                <div *ngIf="!appointmentLoading" (click)="getAppointments()">
                                    <div class="showMoreAppText">{{'showMore'|translate}}</div>
                                    <div><i class="fas fa-angle-double-down doubleArrowDownApp"></i></div>
                                </div>
                                <div *ngIf="appointmentLoading">
                                    <div class="loading" style="position: relative;">
                                        <span></span>
                                        <span></span>
                                        <span></span>
                                    </div>
                                </div>
                            </div>
                            <div *ngIf="!showLoadMoreApp" class="horizentalCenter defaultCursor">
                                {{'allAppLoaded'|translate}}
                            </div>
                        </div>
                    </div>
                </section>
                <section id="prescriptionSection">
                    <div class="sectionTitle">{{'prescription'|translate}}</div>
                    <div *ngIf="prescriptions.length == 0; then showPrescriptionNull else showPrescription">
                    </div>
                    <ng-template #showPrescriptionNull>
                        <div class="sectionContainer">
                            <div *ngIf="prescriptionInfo=='info'; then showPrescriptionInfo else showPrescriptionWhy">
                            </div>
                            <ng-template #showPrescriptionInfo>
                                <div class="noData">{{'noPrescription'|translate}}, <span class="textLien"
                                        (click)="prescriptionInfo='why'">{{'why'|translate}}</span></div>
                            </ng-template>
                            <ng-template #showPrescriptionWhy>
                                <div class="noData">{{'whyNoPrescription'|translate}}, <span class="textLien"
                                        (click)="prescriptionInfo='info'">{{'okay'|translate}}</span></div>
                            </ng-template>
                        </div>
                    </ng-template>
                    <ng-template #showPrescription>
                        <div *ngIf="prescription=='all'">
                            <div *ngFor="let pres of prescriptions ;let p = index" class="userInfoContainers">
                                <div class="userInfoContainer userInfoContainerHover"
                                    (click)="getDoctorInfoForPresById(pres.doctorId,p,'prescription');">
                                    <div class="userInfoContainerTitle">
                                        <div class="userInfoContainerTitleIcon"><i class="fas fa-pills"></i></div>
                                        <div class="userInfoContainerTitleValue"
                                            [class.usedPres]="pres.prescriptionStatus == 'used'">
                                            {{pres.prescriptionStatus+'Pres'|translate}}
                                        </div>
                                    </div>

                                    <div *ngIf="pres.medicament" class="userInfoContainerValue">
                                        {{pres.medicament.length}} {{'medicaments'|translate}}
                                    </div>
                                    <div class="userInfoContainerSecondValue">
                                        <div class="userInfoContainerSecondValuePoint"></div>
                                        <div class="userInfoContainerSecondValueText">
                                            {{pres.prescriptionDate}}
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="userInfoContainers">
                                <div class="userInfoContainer" [class.userInfoContainerHover]="loadMorePrescription"
                                    (click)="getPrescriptionsByPatientIdAndPrescriptionStatus(patientGet.userId, 'pending', pendingPrescriptionPage, 'prescription')">
                                    <div class="userInfoContainerTitle">
                                        <div class="userInfoContainerTitleIcon"><i class="fas fa-search"></i>
                                        </div>
                                        <div class="userInfoContainerTitleValue">
                                            {{'prescription'|translate}}
                                        </div>
                                    </div>
                                    <div class="userInfoContainerValue" style="padding: 10px 0px;">
                                        <span *ngIf="!loadMorePrescription">
                                            <i class="fas fa-times"></i>
                                        </span>
                                        <span *ngIf="loadMorePrescription">
                                            <i class="fas fa-plus"></i>
                                        </span>
                                    </div>
                                    <div class="userInfoContainerSecondValue">
                                        <div class="userInfoContainerSecondValuePoint"></div>
                                        <div class="userInfoContainerSecondValueText">
                                            <span *ngIf="!loadMorePrescription">
                                                {{'allPrescriptionLoaded'|translate}}
                                            </span>
                                            <span *ngIf="loadMorePrescription">
                                                {{'loadMorePrescription'|translate}}
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div *ngIf="prescription=='prescription'" class="sectionContainer">
                            <div *ngIf="prescriptions[presPresKey].prescriptionStatus=='pending'" class="worldMapImg">
                                <img src="../../../../assets/img/worldMap.png" style="width: 100%;">
                            </div>
                            <div class="returnToAllDisease" (click)="prescription='all'"><i
                                    class="fas fa-arrow-left"></i>
                            </div>

                            <div class="centerDocPres">
                                <div class="docProfileImgForMedicalProfileDis">
                                    <div
                                        *ngIf="prescriptions[presPresKey].prescriptiondoctor.profileImg; then showDocProfileImg else showDocDefaultImg">
                                    </div>
                                    <ng-template #showDocProfileImg><img
                                            [style.background-image]="'url(' + prescriptions[presPresKey].prescriptiondoctor.profileImg + ')'"
                                            class="profileImg">
                                    </ng-template>
                                    <ng-template #showDocDefaultImg><i class="fas fa-user-tie userTie75"></i>
                                    </ng-template>
                                </div>
                                <div class="diseaseDocName">
                                    Dr.<span style="text-transform: capitalize;">
                                        {{prescriptions[presPresKey].prescriptiondoctor.doctorFirstName}}</span>
                                    <span style="text-transform: uppercase;">
                                        {{prescriptions[presPresKey].prescriptiondoctor.doctorLastName}}</span><br>
                                    <div *ngIf="prescriptions[presPresKey].prescriptiondoctor.doctorRate !=0">
                                        <div *ngIf="prescriptions[presPresKey].prescriptiondoctor.doctorRate == 0.5">
                                            <i class="fas fa-star-half-alt"></i>
                                            <i class="far fa-star"></i>
                                            <i class="far fa-star"></i>
                                            <i class="far fa-star"></i>
                                            <i class="far fa-star"></i>
                                        </div>
                                        <div *ngIf="prescriptions[presPresKey].prescriptiondoctor.doctorRate == 1">
                                            <i class="fas fa-star"></i>
                                            <i class="far fa-star"></i>
                                            <i class="far fa-star"></i>
                                            <i class="far fa-star"></i>
                                            <i class="far fa-star"></i>
                                        </div>
                                        <div *ngIf="prescriptions[presPresKey].prescriptiondoctor.doctorRate == 1.5">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star-half-alt"></i>
                                            <i class="far fa-star"></i>
                                            <i class="far fa-star"></i>
                                            <i class="far fa-star"></i>
                                        </div>
                                        <div *ngIf="prescriptions[presPresKey].prescriptiondoctor.doctorRate == 2">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="far fa-star"></i>
                                            <i class="far fa-star"></i>
                                            <i class="far fa-star"></i>
                                        </div>
                                        <div *ngIf="prescriptions[presPresKey].prescriptiondoctor.doctorRate == 2.5">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star-half-alt"></i>
                                            <i class="far fa-star"></i>
                                            <i class="far fa-star"></i>
                                        </div>
                                        <div *ngIf="prescriptions[presPresKey].prescriptiondoctor.doctorRate == 3">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="far fa-star"></i>
                                            <i class="far fa-star"></i>
                                        </div>
                                        <div *ngIf="prescriptions[presPresKey].prescriptiondoctor.doctorRate == 3.5">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star-half-alt"></i>
                                            <i class="far fa-star"></i>
                                        </div>
                                        <div *ngIf="prescriptions[presPresKey].prescriptiondoctor.doctorRate == 4">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="far fa-star"></i>
                                        </div>
                                        <div *ngIf="prescriptions[presPresKey].prescriptiondoctor.doctorRate == 4.5">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star-half-alt"></i>
                                        </div>
                                        <div *ngIf="prescriptions[presPresKey].prescriptiondoctor.doctorRate == 5">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                        </div>
                                    </div>
                                </div>
                                <div class="docDiseaseGeneralInfo">
                                    <div class="diseaseName newDiseaseNameMargin">
                                        <i class="fas fa-venus-mars"></i>
                                        <span class="disease">
                                            {{prescriptions[presPresKey].prescriptiondoctor.doctorGender|translate}}
                                        </span>
                                    </div><br>
                                    <div class="diseaseName newDiseaseNameMargin">
                                        <i class="fas fa-map-marked-alt"></i>
                                        <span class="disease">
                                            {{prescriptions[presPresKey].prescriptiondoctor.userCity}}
                                        </span>
                                    </div>
                                </div>
                            </div>

                            <div class="prescriptionName">
                                {{'prescription'|translate}}
                            </div>
                            <hr class="greenLine">
                            <div class="patientPrescriptionMeds">
                                <div *ngFor="let med of prescriptions[presPresKey].medicament"
                                    class="patientPrescriptionMed">
                                    {{med.medicamentName}} | {{med.treatmentPeriode}}
                                </div>
                                <div class="diseaseName newDiseaseNameMargin presCode">
                                    <i>{{'code'|translate}}</i>
                                    <span class="disease">
                                        {{prescriptions[presPresKey].prescriptionCode}}
                                    </span>
                                </div>
                            </div>
                            <div *ngIf="prescriptions[presPresKey].prescriptionStatus=='pending'" class="findPhText">
                                {{'findPharmacyThatContainYourMedicaments'|translate}}
                            </div>
                            <div *ngIf="prescriptions[presPresKey].prescriptionStatus=='pending'"
                                (click)="searchPharmaciesByMedicaments(true)">
                                <div *ngIf="!loadingPh">
                                    <i class="fas fa-search searchIcon"></i>
                                </div>
                                <div *ngIf="loadingPh" class="positionLoading">
                                    <div class="posAnimation">
                                        <i class="fas fa-map-marker-alt"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div *ngIf="prescription=='pharmacies'">
                            <div *ngIf="prescriptionPharmacies.length == 0" class="sectionContainer">
                                <div class="noPharmacyFound">
                                    {{'noPharmacyFound'|translate}}
                                </div>
                            </div>
                            <div *ngIf="prescriptionPharmacies.length != 0">
                                <div class="choosePharmacy">
                                    {{'choosePharmacy'|translate}}
                                    <div class="greenLinePh"></div>
                                </div>
                                <div *ngFor="let pharmacy of prescriptionPharmacies | keyvalue"
                                    class="userInfoContainers">
                                    <div class="userInfoContainer userInfoContainerHover"
                                        (click)="openPharmacyMap(pharmacy.key)">
                                        <div class="userInfoContainerTitle">
                                            <div class="userInfoContainerTitleIcon"><i
                                                    class="fas fa-clinic-medical"></i>
                                            </div>
                                            <div class="userInfoContainerTitleValue">
                                                {{pharmacy.value.pharmacyFullName}}
                                            </div>
                                        </div>
                                        <div class="userInfoContainerValue">
                                            {{pharmacy.value.distance}} Km
                                        </div>
                                        <div class="userInfoContainerSecondValue">
                                            <div class="userInfoContainerSecondValuePoint"></div>
                                            <div class="userInfoContainerSecondValueText">
                                                {{pharmacy.value.pharmacyExactAddress}}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="userInfoContainers">
                                    <div class="userInfoContainer" [class.userInfoContainerHover]="loadMorePharmacies"
                                        (click)="searchPharmaciesByMedicaments(flase)">
                                        <div class="userInfoContainerTitle">
                                            <div class="userInfoContainerTitleIcon"><i class="fas fa-search"></i>
                                            </div>
                                            <div class="userInfoContainerTitleValue">
                                                {{'pharmacy'|translate}}
                                            </div>
                                        </div>
                                        <div class="userInfoContainerValue" style="padding: 10px 0px;">
                                            <span *ngIf="!loadMorePharmacies">
                                                <i class="fas fa-times"></i>
                                            </span>
                                            <span *ngIf="loadMorePharmacies">
                                                <i class="fas fa-plus"></i>
                                            </span>
                                        </div>
                                        <div class="userInfoContainerSecondValue">
                                            <div class="userInfoContainerSecondValuePoint"></div>
                                            <div class="userInfoContainerSecondValueText">
                                                <span *ngIf="loadMorePharmacies">
                                                    {{'loadMorePharmacies'|translate}}
                                                </span>
                                                <span *ngIf="!loadMorePharmacies">
                                                    {{'noMorePharmacies'|translate}}
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <button class="emptyBtn" style="margin-top: 15px;" (click)="prescription='prescription'">
                                {{'goBack'|translate}}
                            </button>
                        </div>
                        <div *ngIf="prescription=='map'" class="pharmacyMapContainer">
                            <div id="pharmacyMap"></div>
                            <button class="fullyBtnSmall"
                                style="margin-top: 15px;display: inline-block; width: fit-content; padding: 0px 10px;"
                                (click)="prescription='pharmacies'">
                                {{'goBack'|translate}}
                            </button>
                            <button class="fullyBtnSmall" (click)="selectPharmacy(false)"
                                style="margin-top: 15px;float: right; width: fit-content;padding: 0px 10px;">
                                {{'selectPharmacy'|translate}}
                            </button>
                        </div>
                    </ng-template>
                </section>
                <section id="myDoctorsSection">
                    <div class="sectionTitle">{{'myDoctors'|translate}}</div>
                    <div *ngIf="myDoctors.list.length == 0" class="sectionContainer">
                        <div class="noData">
                            {{'noDoctors'|translate}}
                        </div>
                    </div>
                    <div *ngIf="myDoctors.list.length != 0">
                        <div *ngFor="let doc of myDoctors.list;let d=index" class="myDoctorContainer">
                            <div class="myDoctorProfilePic">
                                <img *ngIf="doc.profileImg" [style.background-image]="'url(' + doc.profileImg  + ')'"
                                    class="profileImg">
                                <i *ngIf="doc.profileImg == false" style="font-size: 70px;" class="fas fa-user-tie"></i>
                            </div>
                            <div class="myDoctorName">
                                {{doc.firstName}} {{doc.lastName}}
                            </div>
                            <div class="myDoctorRate">
                                <div *ngIf="doc.userRate == 0">
                                    {{'notRated'|transform}}
                                </div>
                                <div *ngIf="doc.userRate !=0">
                                    <div *ngIf="doc.userRate  == 0.5">
                                        <i class="fas fa-star-half-alt"></i>
                                        <i class="far fa-star"></i>
                                        <i class="far fa-star"></i>
                                        <i class="far fa-star"></i>
                                        <i class="far fa-star"></i>
                                    </div>
                                    <div *ngIf="doc.userRate  == 1">
                                        <i class="fas fa-star"></i>
                                        <i class="far fa-star"></i>
                                        <i class="far fa-star"></i>
                                        <i class="far fa-star"></i>
                                        <i class="far fa-star"></i>
                                    </div>
                                    <div *ngIf="doc.userRate  == 1.5">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star-half-alt"></i>
                                        <i class="far fa-star"></i>
                                        <i class="far fa-star"></i>
                                        <i class="far fa-star"></i>
                                    </div>
                                    <div *ngIf="doc.userRate  == 2">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="far fa-star"></i>
                                        <i class="far fa-star"></i>
                                        <i class="far fa-star"></i>
                                    </div>
                                    <div *ngIf="doc.userRate  == 2.5">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star-half-alt"></i>
                                        <i class="far fa-star"></i>
                                        <i class="far fa-star"></i>
                                    </div>
                                    <div *ngIf="doc.userRate  == 3">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="far fa-star"></i>
                                        <i class="far fa-star"></i>
                                    </div>
                                    <div *ngIf="doc.userRate  == 3.5">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star-half-alt"></i>
                                        <i class="far fa-star"></i>
                                    </div>
                                    <div *ngIf="doc.userRate  == 4">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="far fa-star"></i>
                                    </div>
                                    <div *ngIf="doc.userRate  == 4.5">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star-half-alt"></i>
                                    </div>
                                    <div *ngIf="doc.userRate  == 5">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="giveRate" (click)="doc.rated = true">
                                <div class="rateMe">
                                    {{'rateMe'|translate}}
                                </div>
                                <div (click)="doc.rate = 1" [class.fullyStar]="doc.rate == 1 || doc.rate == 2 || 
                                doc.rate == 3 || doc.rate == 4 || doc.rate == 5"
                                [class.disableHover]="doc.rate == 1"><i class="fas fa-star"></i></div>
                                <div (click)="doc.rate = 2" [class.fullyStar]="doc.rate == 2 || doc.rate == 3 || doc.rate == 4 ||
                                doc.rate == 5" [class.disableHover]="doc.rate == 2"><i class="fas fa-star"></i></div>
                                <div (click)="doc.rate = 3" [class.fullyStar]="doc.rate == 3 || doc.rate == 4 || doc.rate == 5"
                                [class.disableHover]="doc.rate == 3"><i class="fas fa-star"></i></div>
                                <div (click)="doc.rate = 4" [class.fullyStar]="doc.rate == 4 || doc.rate == 5"
                                [class.disableHover]="doc.rate == 4"><i class="fas fa-star"></i></div>
                                <div (click)="doc.rate = 5" [class.fullyStar]="doc.rate == 5"
                                [class.disableHover]="rate == 5"><i class="fas fa-star"></i></div>
                            </div>
                            <div class="submitRate" *ngIf="doc.rated == true"
                            (click)="addRate(d,'doctor')">
                                <div class="info">
                                    {{'submitRate'|translate}}
                                </div>
                                <div class="icon">
                                    <i class="fas fa-paper-plane"></i>
                                </div>
                            </div>
                        </div>
                        <div style="margin-left: 50%;transform: translateX(-50%);width: fit-content;">
                            <div *ngFor="let page of myDoctorsPages; let p = index" class="page"
                                (click)="getMyDoctors(p)"
                                [class.disabledPage]="page > myDoctorsPages.length"
                                [class.pageLoading]="loadingDoctors == true"
                                [class.loadingPages]="loadingDoctors == true"
                                [class.disabledClick]="page == (myDoctorsPage + 1)">
                                <div [class.pageSlected]="page == (myDoctorsPage + 1)"
                                    style="display: inline-block;">
                                    <span class="pageIndex">
                                        {{page}}
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="mySecretariesSection">
                    <div class="sectionTitle">{{'mySecretaries'|translate}}</div>
                    <div *ngIf="mySecretaries.list.length == 0" class="sectionContainer">
                        <div class="noData">
                            {{'noSecretaries'|translate}}
                        </div>
                    </div>
                    <div *ngIf="mySecretaries.list.length != 0">
                        <div *ngFor="let sec of mySecretaries.list;let d=index" class="myDoctorContainer">
                            <div class="myDoctorProfilePic">
                                <img *ngIf="sec.profileImg" [style.background-image]="'url(' + sec.profileImg  + ')'"
                                    class="profileImg">
                                <i *ngIf="sec.profileImg == false" style="font-size: 70px;" class="fas fa-user-tie"></i>
                            </div>
                            <div class="myDoctorName">
                                {{sec.firstName}} {{sec.lastName}}
                            </div>
                            <div class="myDoctorRate">
                                <div *ngIf="sec.userRate == 0">
                                    {{'notRated'|transform}}
                                </div>
                                <div *ngIf="sec.userRate !=0">
                                    <div *ngIf="sec.userRate  == 0.5">
                                        <i class="fas fa-star-half-alt"></i>
                                        <i class="far fa-star"></i>
                                        <i class="far fa-star"></i>
                                        <i class="far fa-star"></i>
                                        <i class="far fa-star"></i>
                                    </div>
                                    <div *ngIf="sec.userRate  == 1">
                                        <i class="fas fa-star"></i>
                                        <i class="far fa-star"></i>
                                        <i class="far fa-star"></i>
                                        <i class="far fa-star"></i>
                                        <i class="far fa-star"></i>
                                    </div>
                                    <div *ngIf="sec.userRate  == 1.5">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star-half-alt"></i>
                                        <i class="far fa-star"></i>
                                        <i class="far fa-star"></i>
                                        <i class="far fa-star"></i>
                                    </div>
                                    <div *ngIf="sec.userRate  == 2">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="far fa-star"></i>
                                        <i class="far fa-star"></i>
                                        <i class="far fa-star"></i>
                                    </div>
                                    <div *ngIf="sec.userRate  == 2.5">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star-half-alt"></i>
                                        <i class="far fa-star"></i>
                                        <i class="far fa-star"></i>
                                    </div>
                                    <div *ngIf="sec.userRate  == 3">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="far fa-star"></i>
                                        <i class="far fa-star"></i>
                                    </div>
                                    <div *ngIf="sec.userRate  == 3.5">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star-half-alt"></i>
                                        <i class="far fa-star"></i>
                                    </div>
                                    <div *ngIf="sec.userRate  == 4">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="far fa-star"></i>
                                    </div>
                                    <div *ngIf="sec.userRate  == 4.5">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star-half-alt"></i>
                                    </div>
                                    <div *ngIf="sec.userRate  == 5">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="giveRate" (click)="sec.rated = true">
                                <div class="rateMe">
                                    {{'rateMe'|translate}}
                                </div>
                                <div (click)="sec.rate = 1" [class.fullyStar]="sec.rate == 1 || sec.rate == 2 || 
                                sec.rate == 3 || sec.rate == 4 || sec.rate == 5"
                                [class.disableHover]="sec.rate == 1"><i class="fas fa-star"></i></div>
                                <div (click)="sec.rate = 2" [class.fullyStar]="sec.rate == 2 || sec.rate == 3 || sec.rate == 4 ||
                                sec.rate == 5" [class.disableHover]="sec.rate == 2"><i class="fas fa-star"></i></div>
                                <div (click)="sec.rate = 3" [class.fullyStar]="sec.rate == 3 || sec.rate == 4 || sec.rate == 5"
                                [class.disableHover]="sec.rate == 3"><i class="fas fa-star"></i></div>
                                <div (click)="sec.rate = 4" [class.fullyStar]="sec.rate == 4 || sec.rate == 5"
                                [class.disableHover]="sec.rate == 4"><i class="fas fa-star"></i></div>
                                <div (click)="sec.rate = 5" [class.fullyStar]="sec.rate == 5"
                                [class.disableHover]="rate == 5"><i class="fas fa-star"></i></div>
                            </div>
                            <div class="submitRate" *ngIf="sec.rated == true"
                            (click)="addRate(d,'secretary')">
                                <div class="info">
                                    {{'submitRate'|translate}}
                                </div>
                                <div class="icon">
                                    <i class="fas fa-paper-plane"></i>
                                </div>
                            </div>
                        </div>
                        <div style="margin-left: 50%;transform: translateX(-50%);width: fit-content;">
                            <div *ngFor="let page of mySecretariesPages; let p = index" class="page"
                                (click)="getMySecretaries(p)"
                                [class.disabledPage]="page > mySecretariesPages.length"
                                [class.pageLoading]="loadingSecretaries == true"
                                [class.loadingPages]="loadingSecretaries == true"
                                [class.disabledClick]="page == (mySecretariesPage + 1)">
                                <div [class.pageSlected]="page == (mySecretariesPage + 1)"
                                    style="display: inline-block;">
                                    <span class="pageIndex">
                                        {{page}}
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="myPharmaciesSection">
                    <div class="sectionTitle">{{'myPharmacies'|translate}}</div>
                    <div *ngIf="myPharmacies.list.length == 0" class="sectionContainer">
                        <div class="noData">
                            {{'noPharmacies'|translate}}
                        </div>
                    </div>
                    <div *ngIf="myPharmacies.list.length != 0">
                        <div *ngFor="let phar of myPharmacies.list;let d=index" class="myDoctorContainer">
                            <div class="myDoctorProfilePic">
                                <img *ngIf="phar.profileImg" [style.background-image]="'url(' + phar.profileImg  + ')'"
                                    class="profileImg">
                                <i *ngIf="phar.profileImg == false" style="font-size: 70px;" class="fas fa-user-tie"></i>
                            </div>
                            <div class="myDoctorName">
                                {{phar.firstName}} {{phar.lastName}}
                            </div>
                            <div class="myDoctorRate">
                                <div *ngIf="phar.userRate == 0">
                                    {{'notRated'|transform}}
                                </div>
                                <div *ngIf="phar.userRate !=0">
                                    <div *ngIf="phar.userRate  == 0.5">
                                        <i class="fas fa-star-half-alt"></i>
                                        <i class="far fa-star"></i>
                                        <i class="far fa-star"></i>
                                        <i class="far fa-star"></i>
                                        <i class="far fa-star"></i>
                                    </div>
                                    <div *ngIf="phar.userRate  == 1">
                                        <i class="fas fa-star"></i>
                                        <i class="far fa-star"></i>
                                        <i class="far fa-star"></i>
                                        <i class="far fa-star"></i>
                                        <i class="far fa-star"></i>
                                    </div>
                                    <div *ngIf="phar.userRate  == 1.5">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star-half-alt"></i>
                                        <i class="far fa-star"></i>
                                        <i class="far fa-star"></i>
                                        <i class="far fa-star"></i>
                                    </div>
                                    <div *ngIf="phar.userRate  == 2">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="far fa-star"></i>
                                        <i class="far fa-star"></i>
                                        <i class="far fa-star"></i>
                                    </div>
                                    <div *ngIf="phar.userRate  == 2.5">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star-half-alt"></i>
                                        <i class="far fa-star"></i>
                                        <i class="far fa-star"></i>
                                    </div>
                                    <div *ngIf="phar.userRate  == 3">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="far fa-star"></i>
                                        <i class="far fa-star"></i>
                                    </div>
                                    <div *ngIf="phar.userRate  == 3.5">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star-half-alt"></i>
                                        <i class="far fa-star"></i>
                                    </div>
                                    <div *ngIf="phar.userRate  == 4">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="far fa-star"></i>
                                    </div>
                                    <div *ngIf="phar.userRate  == 4.5">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star-half-alt"></i>
                                    </div>
                                    <div *ngIf="phar.userRate  == 5">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="giveRate" (click)="phar.rated = true">
                                <div class="rateMe">
                                    {{'rateMe'|translate}}
                                </div>
                                <div (click)="phar.rate = 1" [class.fullyStar]="phar.rate == 1 || phar.rate == 2 || 
                                phar.rate == 3 || phar.rate == 4 || phar.rate == 5"
                                [class.disableHover]="phar.rate == 1"><i class="fas fa-star"></i></div>
                                <div (click)="phar.rate = 2" [class.fullyStar]="phar.rate == 2 || phar.rate == 3 || phar.rate == 4 ||
                                phar.rate == 5" [class.disableHover]="phar.rate == 2"><i class="fas fa-star"></i></div>
                                <div (click)="phar.rate = 3" [class.fullyStar]="phar.rate == 3 || phar.rate == 4 || phar.rate == 5"
                                [class.disableHover]="phar.rate == 3"><i class="fas fa-star"></i></div>
                                <div (click)="phar.rate = 4" [class.fullyStar]="phar.rate == 4 || phar.rate == 5"
                                [class.disableHover]="phar.rate == 4"><i class="fas fa-star"></i></div>
                                <div (click)="phar.rate = 5" [class.fullyStar]="phar.rate == 5"
                                [class.disableHover]="rate == 5"><i class="fas fa-star"></i></div>
                            </div>
                            <div class="submitRate" *ngIf="phar.rated == true"
                            (click)="addRate(d,'pharmacy')">
                                <div class="info">
                                    {{'submitRate'|translate}}
                                </div>
                                <div class="icon">
                                    <i class="fas fa-paper-plane"></i>
                                </div>
                            </div>
                        </div>
                        <div style="margin-left: 50%;transform: translateX(-50%);width: fit-content;">
                            <div *ngFor="let page of myPharmaciesPages; let p = index" class="page"
                                (click)="getMyPharmacies(p)"
                                [class.disabledPage]="page > myPharmaciesPages.length"
                                [class.pageLoading]="loadingPharmacies == true"
                                [class.loadingPages]="loadingPharmacies == true"
                                [class.disabledClick]="page == (myPharmaciesPage + 1)">
                                <div [class.pageSlected]="page == (myPharmaciesPage + 1)"
                                    style="display: inline-block;">
                                    <span class="pageIndex">
                                        {{page}}
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
            <div *ngIf="container=='patientDoctor'">
                <app-patient-doctor></app-patient-doctor>
            </div>
            <div *ngIf="container=='patientDisease'">
                <app-patient-disease></app-patient-disease>
            </div>
        </div>
    </div>
</body>

</html>